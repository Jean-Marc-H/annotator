<main flex *ngIf="isDataLoaded">

  <div style="padding-left: 10px; padding-right: 10px;">
    <h3 style="display:inline-block">Projet : </h3>
    <mat-form-field>
      <input matInput [ngModel]="currentProject?.title" (ngModelChange)="currentProject.title = $event" name="titre" #titre="ngModel" required />
      <mat-error *ngIf="titre.value == '' || titre.value == null">Titre du projet obligatoire</mat-error>
    </mat-form-field>
  </div>


  <div style="padding-left: 10px; padding-right: 10px;">
    <h3 style="display:inline-block">Description : </h3>

    <mat-form-field style="display:inline-block">
      <textarea matInput [ngModel]="currentProject?.description" (ngModelChange)="currentProject.description = $event" name="description" #description="ngModel" required></textarea>
      <mat-error *ngIf="description.value == '' || description.value == null">Description du projet obligatoire</mat-error>
    </mat-form-field>
  </div>

  <!--Section pour les textes (corpus)-->
  <div class="column">
    <mat-card>
      <mat-toolbar style="display: flex">
        <span>Corpus</span>
        <span class="example-fill-remaining-space"></span>
        <span><button class="btn btn btn-primary" (click)="addCorpusDialogBox()">+</button></span>
      </mat-toolbar>
      <mat-list role="list">
        <mat-list-item *ngFor="let item of corpus | async">{{item?.title}}</mat-list-item>
      </mat-list>
    </mat-card>
  </div>

  <!--Section catégories-->
  <div class="column">
    <mat-card>
      <mat-toolbar style="display: flex">
        <span>Catégories</span>
        <span class="example-fill-remaining-space"></span>
        <span><button class="btn btn btn-primary" (click)="addCategorieDialogBox()">+</button></span>
      </mat-toolbar>
      <mat-list role="list">
        <mat-list-item *ngFor="let item of categories | async" [ngStyle]="{'background-color': item?.color}">{{item?.name}}</mat-list-item>
      </mat-list>

    </mat-card>
  </div>

  <!--Section Annotateurs-->
  <div class="column">
    <mat-card>
      <mat-toolbar style="display: flex">
        <span>Annotateurs</span>
        <span class="example-fill-remaining-space"></span>
        <span><button class="btn btn btn-primary" (click)="addAnnotateurDialogBox()">+</button></span>
      </mat-toolbar>
      <mat-list role="list">
        <mat-list-item *ngFor="let item of annotateurs | async">{{item?.firstName}}</mat-list-item>
      </mat-list>
    </mat-card>
  </div>
</main>

  <!--Button pour sauvegarder on annuler les modification-->
  <div class="button-row" style="padding-left: 10px; padding-right: 10px;">
    <button class="btn btn-primary" (click)="saveProjectModification()">Sauvegarder</button>
    <button class="btn btn btn-primary" [routerLink]="['']">Annuler</button>
  </div>
